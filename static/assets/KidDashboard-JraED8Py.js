import{r as i,j as e,b as I,u as pe,c as he,d as fe,a as ge,e as te,A as be}from"./index-DyDiUpYc.js";import{t as je}from"./questThemeText-CZi_N2ve.js";import{S as re}from"./star-CIYm8Jtg.js";import{m as j}from"./proxy-B2dJm0uC.js";import{F as se}from"./flame-BR6AwHEh.js";import{A as U}from"./index-ENwDjcP0.js";import{R as ye,P as Ne,H as ae}from"./PetLevelBadge-0X5BNn5M.js";import{T as ve}from"./triangle-alert-FvIiXhU7.js";import{S as we,H as Se,G as ke,a as Ae}from"./sword-BMdoYjoF.js";import{C as Pe}from"./chevron-right-CV4gun3e.js";import{C as Te}from"./camera-B9LWZQbv.js";import"./shield-B4u7glZ9.js";function Me({value:t=0,prefix:a="XP"}){const[n,o]=i.useState(t),r=i.useRef(t),c=i.useRef(null);return i.useEffect(()=>{const u=r.current,y=t;if(r.current=t,u===y){o(y);return}const M=y-u,E=Math.min(Math.abs(M)*15,1500),z=performance.now();function l(R){const C=R-z,S=Math.min(C/E,1),x=1-Math.pow(1-S,3),_=Math.round(u+M*x);o(_),S<1&&(c.current=requestAnimationFrame(l))}return c.current=requestAnimationFrame(l),()=>{c.current&&cancelAnimationFrame(c.current)}},[t]),e.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[e.jsx(re,{size:16,className:"text-gold fill-gold"}),e.jsxs("span",{className:"font-heading text-gold text-sm font-bold tabular-nums",children:[n.toLocaleString()," ",a]})]})}const Ee={scale:[1,1.1,.97,1.05,1],rotate:[-1,2,-2,1,0],transition:{duration:1,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}};function ze(t){return t>=30?{size:28,className:"text-orange-400 drop-shadow-[0_0_8px_rgba(251,146,60,0.5)]"}:t>=7?{size:22,className:"text-orange-400"}:{size:18,className:"text-orange-400/70"}}function Ce({streak:t=0,longest:a=0}){const[n,o]=i.useState(!1),r=ze(t),c=t>=30;return e.jsxs("div",{className:"relative inline-flex items-center gap-1",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[c?e.jsx(j.div,{animate:Ee,className:"flex items-center",children:e.jsx(se,{size:r.size,className:r.className})}):e.jsx(se,{size:r.size,className:r.className}),e.jsx("span",{className:"font-bold text-orange-400 text-sm tabular-nums",children:t}),n&&e.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1.5 bg-surface-raised border border-border rounded-lg text-center whitespace-nowrap z-10 shadow-lg",children:[e.jsxs("p",{className:"text-cream text-xs font-medium",children:[t," day streak"]}),e.jsxs("p",{className:"text-muted text-[10px]",children:["Best: ",a]}),e.jsx("div",{className:"absolute top-full right-3 w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[5px] border-t-border"})]})]})}const ne=["#3b82f6","#10b981","#f59e0b","#a855f7","#ef4444","#60a5fa"],_e=30,Y=3;function V(t,a){return Math.random()*(a-t)+t}function $e(){return Array.from({length:_e},(t,a)=>{const n=V(0,Math.PI*2),o=V(200,500),r=V(6,14),c=Math.random()>.5?"circle":"rect";return{id:a,color:ne[Math.floor(Math.random()*ne.length)],x:Math.cos(n)*o,y:Math.sin(n)*o,rotation:V(0,720),size:r,shape:c}})}function ie({onComplete:t}){const[a,n]=i.useState(!0),o=i.useMemo(()=>$e(),[]);return i.useEffect(()=>{const r=setTimeout(()=>{n(!1),t==null||t()},Y*1e3);return()=>clearTimeout(r)},[t]),e.jsx(U,{children:a&&e.jsx("div",{className:"fixed inset-0 z-[100] pointer-events-none overflow-hidden",children:o.map(r=>e.jsx(j.div,{className:"absolute",style:{left:"50%",top:"40%",width:r.shape==="circle"?r.size:r.size*.7,height:r.size,backgroundColor:r.color,borderRadius:r.shape==="circle"?"50%":"2px"},initial:{x:0,y:0,opacity:1,rotate:0,scale:1},animate:{x:r.x,y:[0,r.y*.4,r.y+300],opacity:[1,1,0],rotate:r.rotation,scale:[1,1.2,.5]},transition:{duration:Y,ease:[.25,.46,.45,.94],y:{duration:Y,ease:[.22,.61,.36,1]}}},r.id))})})}const X=[{value:1,color:"#ef4444"},{value:5,color:"#f59e0b"},{value:2,color:"#10b981"},{value:10,color:"#a855f7"},{value:3,color:"#3b82f6"},{value:15,color:"#f97316"},{value:1,color:"#ec4899"},{value:25,color:"#f59e0b"},{value:2,color:"#06b6d4"},{value:5,color:"#10b981"},{value:3,color:"#a855f7"},{value:10,color:"#ef4444"}],B=360/X.length;function Z(t,a,n,o){const r=(o-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:a+n*Math.sin(r)}}function Ge(t,a,n,o,r){const c=Z(t,a,n,r),u=Z(t,a,n,o),y=r-o<=180?"0":"1";return["M",t,a,"L",c.x,c.y,"A",n,n,0,y,0,u.x,u.y,"Z"].join(" ")}function Ie({availability:t,onSpinComplete:a}){const[n,o]=i.useState(!1),[r,c]=i.useState(0),[u,y]=i.useState(null),[M,E]=i.useState(!1),[z,l]=i.useState(null),R=i.useRef(!1),C=(t==null?void 0:t.can_spin)??!0,S=(t==null?void 0:t.reason)??null,x=!C,_=i.useCallback(async()=>{if(!(n||x)){o(!0),y(null),l(null);try{const p=await I("/api/spin/spin",{method:"POST"}),g=p.points_won??p.points??p.result??5,b=X.reduce((P,F,f)=>(F.value===g&&P.push(f),P),[]),A=(b.length>0?b[Math.floor(Math.random()*b.length)]:Math.floor(Math.random()*X.length))*B+B/2,h=5+Math.floor(Math.random()*3),$=r+h*360+(360-A);c($),setTimeout(()=>{y(g),E(!0),o(!1),R.current=!0,a==null||a(g)},3500)}catch(p){l(p.message||"Spin failed!"),o(!1)}}},[n,x,r,a]),k=150,N=150,D=140;return e.jsxs("div",{className:"flex flex-col items-center gap-5",children:[M&&e.jsx(ie,{onComplete:()=>E(!1)}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1 z-10",children:e.jsx("div",{className:"w-0 h-0 border-l-[12px] border-l-transparent border-r-[12px] border-r-transparent border-t-[20px] border-t-sky",style:{filter:"drop-shadow(0 2px 6px rgba(59,130,246,0.4))"}})}),e.jsx(j.div,{animate:{rotate:r},transition:{duration:3.5,ease:[.2,.8,.3,1]},className:"w-[260px] h-[260px] sm:w-[300px] sm:h-[300px]",children:e.jsxs("svg",{viewBox:"0 0 300 300",className:"w-full h-full drop-shadow-xl",children:[e.jsx("circle",{cx:k,cy:N,r:D+4,fill:"none",stroke:"#1e293b",strokeWidth:"4"}),X.map((p,g)=>{const b=g*B,v=b+B,A=b+B/2,h=Z(k,N,D*.65,A);return e.jsxs("g",{children:[e.jsx("path",{d:Ge(k,N,D,b,v),fill:p.color,stroke:"#0a0e1a",strokeWidth:"2",opacity:x&&!n?.4:.9}),e.jsx("text",{x:h.x,y:h.y,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontFamily:"Inter, system-ui, sans-serif",fontSize:"12",fontWeight:"800",transform:`rotate(${A}, ${h.x}, ${h.y})`,children:p.value})]},g)}),e.jsx("circle",{cx:k,cy:N,r:22,fill:"#111827",stroke:"#1e293b",strokeWidth:"3"}),e.jsx("circle",{cx:k,cy:N,r:10,fill:"#3b82f6"})]})})]}),u!==null&&e.jsxs("div",{className:"game-panel px-6 py-3 text-center",children:[e.jsx("p",{className:"text-muted text-xs",children:"You won"}),e.jsxs("p",{className:"text-gold text-lg font-bold mt-1",children:[u," XP"]})]}),x&&!n&&S&&e.jsx("p",{className:"text-gold text-sm text-center max-w-xs",children:S}),z&&e.jsx("p",{className:"text-crimson text-sm text-center",children:z}),e.jsx("button",{onClick:_,disabled:n||x,className:`game-btn game-btn-blue text-base px-10 py-3 ${n||x?"opacity-50 cursor-not-allowed":""}`,children:n?"SPINNING...":x?"LOCKED":"SPIN!"})]})}const K=[{id:"default",label:"Classic",icon:"âš”ï¸",description:"The standard quest board",headerGradient:null,pageGradient:null,cardAccent:null,particleEmojis:null},{id:"halloween",label:"Haunted Dungeon",icon:"ðŸŽƒ",description:"Spooky vibes for brave heroes",headerGradient:"linear-gradient(135deg, rgba(88,28,135,0.25) 0%, rgba(30,10,60,0.35) 50%, rgba(139,69,19,0.15) 100%)",pageGradient:"radial-gradient(ellipse at top, rgba(88,28,135,0.12) 0%, transparent 70%)",cardAccent:"#9333ea",particleEmojis:["ðŸŽƒ","ðŸ•¸ï¸","ðŸ‘»","ðŸ¦¿","ðŸ”®"]},{id:"christmas",label:"Winter Workshop",icon:"ðŸŽ„",description:"Santa's quest factory",headerGradient:"linear-gradient(135deg, rgba(22,101,52,0.25) 0%, rgba(153,27,27,0.20) 50%, rgba(22,78,99,0.15) 100%)",pageGradient:"radial-gradient(ellipse at top, rgba(22,101,52,0.10) 0%, transparent 70%)",cardAccent:"#ef4444",particleEmojis:["â„ï¸","ðŸŽ„","ðŸŽ","â­","ðŸ””"]},{id:"space",label:"Space Station",icon:"ðŸš€",description:"Missions from orbit",headerGradient:"linear-gradient(135deg, rgba(30,58,138,0.30) 0%, rgba(88,28,135,0.20) 50%, rgba(15,23,42,0.35) 100%)",pageGradient:"radial-gradient(ellipse at top, rgba(30,58,138,0.12) 0%, transparent 70%)",cardAccent:"#3b82f6",particleEmojis:["ðŸš€","ðŸŒŸ","ðŸª","ðŸ›¸","â­"]},{id:"underwater",label:"Ocean Kingdom",icon:"ðŸŒŠ",description:"Deep sea adventures",headerGradient:"linear-gradient(135deg, rgba(8,145,178,0.25) 0%, rgba(6,78,59,0.20) 50%, rgba(21,94,117,0.25) 100%)",pageGradient:"radial-gradient(ellipse at top, rgba(8,145,178,0.12) 0%, transparent 70%)",cardAccent:"#06b6d4",particleEmojis:["ðŸ ","ðŸŒŠ","ðŸ™","ðŸš","ðŸ§œ"]},{id:"enchanted",label:"Enchanted Garden",icon:"ðŸŒ¸",description:"Magical forest quests",headerGradient:"linear-gradient(135deg, rgba(219,39,119,0.20) 0%, rgba(126,34,206,0.20) 50%, rgba(5,150,105,0.15) 100%)",pageGradient:"radial-gradient(ellipse at top, rgba(219,39,119,0.10) 0%, transparent 70%)",cardAccent:"#ec4899",particleEmojis:["ðŸŒ¸","ðŸ¦‹","ðŸŒ¿","âœ¨","ðŸŒº"]}];function O(t){return K.find(a=>a.id===t)||K[0]}function Re({themeId:t}){const a=O(t);return a.pageGradient?e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",style:{background:a.pageGradient}}):null}function De({themeId:t}){const a=O(t);return a.headerGradient?e.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none z-0",style:{background:a.headerGradient}}):null}function Be({themeId:t}){const a=O(t);return a.particleEmojis?e.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-xl pointer-events-none z-0",children:a.particleEmojis.map((n,o)=>e.jsx("span",{className:"quest-particle absolute select-none",style:{left:`${12+o*18}%`,top:`${10+o%3*25}%`,fontSize:`${12+o%3*4}px`,animationDelay:`${o*1.2}s`,opacity:.15},children:n},o))}):null}function Oe({themeId:t}){var n;const a=O(t);return t==="default"?null:e.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[e.jsx("span",{children:(n=a.particleEmojis)==null?void 0:n[0]}),e.jsx("span",{className:"font-semibold",style:{color:a.cardAccent,opacity:.8},children:a.label}),e.jsx("span",{children:a.icon})]})}function Fe({themeId:t,children:a}){const n={default:"Quest Board",halloween:"Dungeon Quests",christmas:"Workshop Tasks",space:"Mission Control",underwater:"Ocean Missions",enchanted:"Garden Quests"};return e.jsx(e.Fragment,{children:n[t]||a||"Quest Board"})}function Le(){const t=new Date,a=t.getDay(),n=a===0?-6:1-a,o=new Date(t);return o.setDate(t.getDate()+n),o.toISOString().slice(0,10)}function qe(){return new Date().toISOString().slice(0,10)}function Qe(t){switch(t){case"easy":return{text:"Easy",color:"text-emerald bg-emerald/10 border-emerald/20"};case"medium":return{text:"Medium",color:"text-gold bg-gold/10 border-gold/20"};case"hard":return{text:"Hard",color:"text-orange-400 bg-orange-400/10 border-orange-400/20"};case"expert":return{text:"Expert",color:"text-crimson bg-crimson/10 border-crimson/20"};default:return{text:"Easy",color:"text-emerald bg-emerald/10 border-emerald/20"}}}const We={hidden:{opacity:0,y:12},visible:t=>({opacity:1,y:0,transition:{delay:t*.05,type:"spring",stiffness:300,damping:28}})};function rt(){var ee;const{user:t,updateUser:a}=pe(),{spin_wheel_enabled:n}=he(),{colorTheme:o}=fe(),r=ge(),[c,u]=i.useState([]),[y,M]=i.useState([]),[E,z]=i.useState(null),[l,R]=i.useState(null),[C,S]=i.useState(!0),[x,_]=i.useState(null),[k,N]=i.useState(!1),[D,p]=i.useState(!1),[g,b]=i.useState(null),[v,A]=i.useState(null),[h,$]=i.useState(""),[P,F]=i.useState(3),[f,oe]=i.useState(()=>localStorage.getItem("chorequest-board-theme")||"default"),le=s=>{oe(s),localStorage.setItem("chorequest-board-theme",s),p(!1)},G=i.useCallback(async()=>{try{_(null);const s=Le(),d=qe(),w=[I("/api/chores"),I(`/api/calendar?week_start=${s}`)];n&&w.push(I("/api/spin/availability")),w.push(I("/api/stats/me"));const m=await Promise.all(w),Q=m[0],W=m[1],H=n?m[2]:null,T=m[n?3:2];T&&(R(T),T.interactions_remaining!=null&&F(T.interactions_remaining)),M(Q);const xe=(W.days&&W.days[d]||[]).filter(ue=>ue.user_id===(t==null?void 0:t.id));u(xe),z(H)}catch(s){_(s.message||"Failed to load quest data")}finally{S(!1)}},[t==null?void 0:t.id,n]);i.useEffect(()=>{G()},[G]),i.useEffect(()=>{const s=()=>{G()};return window.addEventListener("ws:message",s),()=>window.removeEventListener("ws:message",s)},[G]);const ce=async s=>{b(s),A(s),$("");try{const d=await I("/api/pets/interact",{method:"POST",body:{action:s}});F(d.interactions_remaining),$(`${{feed:"Fed",pet:"Petted",play:"Played with"}[s]} your pet! +${d.xp_awarded} XP${d.levelup?" - LEVEL UP!":""}`),d.levelup&&N(!0),d.new_balance!=null&&a({points_balance:d.new_balance}),await G()}catch(d){$(d.message||"Could not interact with pet")}finally{b(null),setTimeout(()=>{A(null),$("")},4e3)}},de=!!(l!=null&&l.pet);if(C)return e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(te,{className:"animate-spin text-sky",size:28})});const J=c.filter(s=>s.status==="verified"||s.status==="completed").length,L=c.length,me=L>0?Math.round(J/L*100):0,q=O(f);return e.jsxs("div",{className:`max-w-2xl mx-auto space-y-5 quest-board-${f}`,children:[e.jsx(Re,{themeId:f}),e.jsx(U,{children:k&&e.jsx(ie,{onComplete:()=>N(!1)})}),e.jsxs("div",{className:"game-panel p-5 relative overflow-hidden",children:[e.jsx(De,{themeId:f}),e.jsx(Be,{themeId:f}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"font-heading text-cream text-xl font-extrabold",children:e.jsx(Fe,{themeId:f,children:"Quest Board"})}),e.jsx("button",{onClick:()=>p(s=>!s),className:"flex items-center justify-center w-8 h-8 rounded-lg border border-border hover:border-accent hover:bg-accent/10 text-cream transition-all text-base",title:"Change board theme",children:((ee=K.find(s=>s.id===f))==null?void 0:ee.icon)||"âš”ï¸"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Me,{value:(t==null?void 0:t.points_balance)??0}),e.jsx(Ce,{streak:(t==null?void 0:t.current_streak)??0})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-3",children:[e.jsx(Oe,{themeId:f}),(l==null?void 0:l.rank)&&e.jsx(ye,{rank:l.rank,size:"sm"}),(l==null?void 0:l.pet)&&e.jsx(Ne,{pet:l.pet,compact:!0})]}),L>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-muted text-xs font-medium",children:"Today's Progress"}),e.jsxs("span",{className:"text-cream text-xs font-bold",children:[J,"/",L]})]}),e.jsx("div",{className:"xp-bar",children:e.jsx(j.div,{className:"xp-bar-fill",initial:{width:0},animate:{width:`${me}%`},transition:{duration:.8,ease:[.22,1,.36,1]}})})]})]})]}),D&&e.jsxs("div",{className:"game-panel p-4",children:[e.jsx("h3",{className:"text-cream text-xs font-bold mb-3",children:"Choose Board Theme"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:K.map(s=>e.jsxs("button",{onClick:()=>le(s.id),className:`flex items-center gap-2 p-3 rounded-lg border transition-all text-left ${f===s.id?"border-accent bg-accent/10":"border-border/50 bg-surface-raised/30 hover:border-border-light"}`,children:[e.jsx("span",{className:"text-xl",children:s.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-cream text-xs font-medium",children:s.label}),e.jsx("p",{className:"text-muted text-[10px]",children:s.description})]})]},s.id))})]}),x&&e.jsxs("div",{className:"game-panel p-3 flex items-center gap-2 border-crimson/30 text-crimson text-sm",children:[e.jsx(ve,{size:16}),e.jsx("span",{children:x})]}),(()=>{const s=c.filter(d=>d.status==="pending"||d.status==="assigned");return s.length===0&&!C?e.jsxs(j.div,{className:"game-panel p-10 flex flex-col items-center gap-3 text-center",initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[e.jsx(we,{size:36,className:"text-muted"}),e.jsx("p",{className:"text-muted text-sm",children:c.length===0?"No quests for today. Take a break!":"All quests complete! Time to spin the wheel!"})]}):e.jsx("div",{className:"space-y-3",children:s.map((d,w)=>{var H,T;const m=d.chore;if(!m)return null;const Q=Qe(m.difficulty),W=((H=m.category)==null?void 0:H.colour)||"#3b82f6";return e.jsx(j.div,{className:"game-panel p-4 transition-all cursor-pointer hover:border-sky/40",style:q.cardAccent?{borderColor:`${q.cardAccent}25`,boxShadow:`0 0 12px ${q.cardAccent}10, inset 0 1px 0 ${q.cardAccent}08`}:void 0,variants:We,initial:"hidden",animate:"visible",custom:w,onClick:()=>r("/chores"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 w-1 h-12 rounded-full flex-shrink-0",style:{backgroundColor:W}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[e.jsx("h3",{className:"text-cream text-sm font-semibold truncate",children:je(m.title,o)}),e.jsx(Pe,{size:16,className:"text-muted flex-shrink-0"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-gold text-xs font-semibold",children:[e.jsx(re,{size:12,fill:"currentColor"}),m.points," XP"]}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold border ${Q.color}`,children:Q.text}),((T=m.category)==null?void 0:T.name)&&e.jsx("span",{className:"text-muted text-xs",children:m.category.name}),m.requires_photo&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-muted text-xs",children:[e.jsx(Te,{size:10}),"Photo"]})]})]})]})},d.id)})})})(),de&&e.jsxs("div",{className:"game-panel p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-cream text-sm font-bold flex items-center gap-2",children:[e.jsx(ae,{size:14,className:"text-crimson"}),"Pet Care"]}),e.jsxs("span",{className:"text-muted text-[11px]",children:[P," interaction",P!==1?"s":""," left today"]})]}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsxs("div",{className:`pet-interaction-stage ${v?`pet-action-${v}`:""}`,children:[e.jsx(be,{config:t==null?void 0:t.avatar_config,size:"xl",name:t==null?void 0:t.display_name,animate:!0}),e.jsxs(U,{children:[v==="feed"&&e.jsx(j.span,{className:"absolute -top-1 right-0 text-lg pointer-events-none",initial:{opacity:0,y:8},animate:{opacity:1,y:-8},exit:{opacity:0},transition:{duration:.6},children:"ðŸ–"}),v==="pet"&&e.jsx(e.Fragment,{children:[0,1,2].map(s=>e.jsx(j.span,{className:"absolute pointer-events-none text-sm",style:{left:`${20+s*25}%`,top:"-4px"},initial:{opacity:0,y:4},animate:{opacity:[0,1,0],y:-16},transition:{duration:.8,delay:s*.2},children:"ðŸ’•"},s))}),v==="play"&&e.jsx(e.Fragment,{children:[0,1].map(s=>e.jsx(j.span,{className:"absolute pointer-events-none text-sm",style:{left:`${15+s*50}%`,top:"-4px"},initial:{opacity:0,scale:.5},animate:{opacity:[0,1,0],scale:1.2,y:-12},transition:{duration:.6,delay:s*.3},children:"â­"},s))})]})]})}),e.jsx(U,{children:h&&e.jsx(j.p,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0},className:`text-xs mb-3 text-center font-semibold ${h.includes("Could not")||h.includes("tired")?"text-crimson":"text-emerald"}`,children:h})}),e.jsx("div",{className:"flex gap-2",children:[{action:"feed",icon:ae,label:"Feed",color:"game-btn-red"},{action:"pet",icon:Se,label:"Pet",color:"game-btn-blue"},{action:"play",icon:ke,label:"Play",color:"game-btn-purple"}].map(({action:s,icon:d,label:w,color:m})=>e.jsxs("button",{onClick:()=>ce(s),disabled:!!g||P<=0,className:`game-btn ${m} flex-1 flex items-center justify-center gap-1.5 !py-2 text-xs ${g===s?"opacity-60 cursor-wait":""} ${P<=0?"opacity-40 cursor-not-allowed":""}`,children:[g===s?e.jsx(te,{size:14,className:"animate-spin"}):e.jsx(d,{size:14}),w]},s))})]}),(l==null?void 0:l.streak_freeze_available)&&e.jsxs("div",{className:"game-panel p-3 flex items-center gap-3",children:[e.jsx(Ae,{size:16,className:"text-sky flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-cream text-xs font-medium",children:"Streak Freeze Available"}),e.jsx("p",{className:"text-muted text-[10px]",children:"Your streak will be saved once if you miss a day this month"})]})]}),n&&e.jsx("div",{className:"pt-2",children:e.jsx(Ie,{availability:E,onSpinComplete:()=>{G()}})})]})}export{rt as default};
